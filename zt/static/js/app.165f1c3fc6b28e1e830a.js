webpackJsonp([2],{0:function(e,t){},1:function(e,t,s){s("briU"),e.exports=s("NHnr")},2:function(e,t){},3:function(e,t){},AA9H:function(e,t){},IQLC:function(e,t){},MSES:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("xd7I"),l=s("2bvH"),o=s("H3vm");a.default.use(l.a);var r=new o.a({storage:window.localStorage}),i={useName:"liubai",userInfo:null,pathName:null,curContractNo:"",curDB:null,resultDataOrigin:[],formFilter:{signDepartment:"全部",contractSumS:"",contractSumE:"",contractPrice:-1,signYear:(new Date).getFullYear(),warnTip:-1,signAndFinish:-1,fileConditionn:-1,classCondition:-1,receivablesContion:-1,performBond:-1,qualityBond:-1,shipmentRate:"",receivablesRate:"",inQuality:-1,subItems:-1,sort:"",contractNo:"",customer:"",projectNumber:""}},n=new l.a.Store({state:i,actions:{updateContractNo:function(e,t){var s=e.commit;e.state,s("setCurContractNo",t)},updateCurDB:function(e,t){var s=e.commit;e.state,s("setCurDB",t)},updateResultData:function(e,t){var s=e.commit;e.state,s("setResultData",t)},updateFilterCondition:function(e,t){var s=e.commit;e.state,s("setFilterCondition",t)},updateUserInfo:function(e,t){var s=e.commit;e.state,s("setUserInfo",t)},changePath:function(e,t){var s=e.commit;e.state,s("setPath",t)}},mutations:{setCurContractNo:function(e,t){e.curContractNo=t},setCurDB:function(e,t){e.curDB=t},setResultData:function(e,t){e.resultDataOrigin=t},setFilterCondition:function(e,t){e.formFilter=t},setUserInfo:function(e,t){e.userInfo=t},setPath:function(e,t){e.pathName=t}},plugins:[r.plugin]}),c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var p=s("C7Lr")({name:"App"},c,!1,function(e){s("alRU")},null,null).exports,m=s("ZWLj"),u=s("rVsN"),f=s.n(u),d=s("lC5x"),g=s.n(d),h=s("J0Oq"),v=s.n(h),_=s("3cXf"),b=s.n(_),y=s("4YfN"),x=s.n(y),w=s("NxjZ"),F=s.n(w),L=s("qqHy"),C=s.n(L),S={name:"ProcessEdit",props:["processName","curEditIdx","curLuiChengIdx","contractNo","curTimeStamp","processStatus"],data:function(){return{dialogProcessVisible:!0,fileUrl:"",formHtqd:{fileName:"",percent:"",checked:!1},formJcsg_kgbg:{fileName:"",percent:"",checked:!1},formJcsg_gcjdhy:{fileName:"",percent:"",checked:!1},formJcsg_xmlzd:{fileName:"",percent:"",checked:!1},formSbdxc:{fileName:"",percent:"",checked:!1},formYbys_sqbg:{fileName:"",percent:"",checked:!1},formYbys_sybg:{fileName:"",percent:"",checked:!1},formYbys_gssybg:{fileName:"",percent:"",checked:!1},formAzts_tsysd:{fileName:"",percent:"",checked:!1},formAzts_sbyjd:{fileName:"",percent:"",checked:!1},formJgys:{fileName:"",percent:"",checked:!1},formSjjs:{fileName:"",percent:"",checked:!1},formXmyj:{fileName:"",percent:"",checked:!1},formZbks:{fileName:"",percent:"",checked:!1},formZbjs:{fileName:"",percent:"",checked:!1},formAppend:{fileName:"",percent:"",jgDate:"",sjPrice:"",zbksDate:""},rulesFile:{fileName:[{required:!0,message:"请选择需要上传的文件!",trigger:"change"}],percent:[{required:!0,message:"请输入完成比例!",trigger:"change"}]},curFileList_formHtqd:[],curFileList_formJcsg_kgbg:[],curFileList_formJcsg_gcjdhy:[],curFileList_formJcsg_xmlzd:[],curFileList_formSbdxc:[],curFileList_formYbys_sqbg:[],curFileList_formYbys_sybg:[],curFileList_formYbys_gssybg:[],curFileList_formAzts_tsysd:[],curFileList_formAzts_sbyjd:[],curFileList_formJgys:[],curFileList_formSjjs:[],curFileList_formXmyj:[],curFileList_formZbks:[],curFileList_formZbjs:[],fileList:{"合同签订":{"销售合同":[]},"进场施工":{"开工报告":[],"工程交底会议":[],"项目流转单":[]},"设备到现场":{"设备签收单":[]},"隐蔽验收":{"试气报告":[],"试压报告":[],"灌水试验报告":[]},"安装调试":{"调试验收单":[],"设备移交单":[]},"竣工验收":{"竣工图":[]},"审价结算":{"审计报告":[]},"项目移交":{"同竣工验收资料":[]},"质保开始":{"调试验收单":[]},"质保结束":{"文件":[]}},ifShowUpload:!1,liuCheng:["放号","合同签订","进场施工","设备到现场","隐蔽验收","安装调试","竣工验收","审价结算","项目移交","质保开始","质保结束"]}},computed:x()({},Object(l.c)({curDB:function(e){return e.curDB}}),{uploadAdr:function(){return"http://zicpp.zicp.vip:59215/fushengJK/uploadFileZT?mulu="+this.contractNo}}),watch:{curTimeStamp:{handler:function(e){this.getFileList()},deep:!0,immediate:!0}},methods:{closeDialog:function(){this.$emit("toggleProcessDialog",!1)},handleUploadSuccess:function(e,t,s){this.formAppend.fileName=e.filename,this.submit(e.filename,t,s)},removeFile:function(e,t,s){this["curFileList_"+s]=[],this.formAppend.fileName=""},changeFile:function(e,t,s){this["curFileList_"+s]=[],this["curFileList_"+s].push(e),this[s].fileName=e.name},deleteFile:function(e,t){var s=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.sureDeleteFile(e,t)}).catch(function(){})},sureDeleteFile:function(e,t){var s=this,a='<?xml version="1.0" encoding="utf-8"?>';a+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',a+="<soap:Body> ",a+='<PIC_UPLoad_DEL xmlns="http://tempuri.org/">',a+="<FContractNo>"+this.contractNo+"</FContractNo>",a+="<FType>"+this.processName+"</FType>",a+="<FPath>"+e.fileName+"</FPath>",a+="<FStage>"+t+"</FStage>",a+="<FDB>"+this.curDB+"</FDB>",a+="</PIC_UPLoad_DEL>",a+="</soap:Body>",a+="</soap:Envelope>",this.Http.post("PIC_UPLoad_DEL",a).then(function(e){var t=e.data,a=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("PIC_UPLoad_DELResponse")[0].getElementsByTagName("PIC_UPLoad_DELResult")[0],l=C()(a).html();"1"===JSON.parse(l)[0].code?(s.$message({message:"删除成功!",type:"success"}),s.getFileList()):s.$message({message:"删除失败!",type:"error"})}).catch(function(e){console.log(e)})},uploadFile:function(e,t){var s=this;this.$refs[e].validate(function(t){t?s.$refs["upload_"+e].submit():s.$message({message:"请将信息补充完整！",type:"warning"})})},submit:function(e,t,s){var a=this,l="设备到现场"===this.processName||"隐蔽验收"===this.processName||"安装调试"===this.processName?this[s].percent:0,o='<?xml version="1.0" encoding="utf-8"?>';o+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',o+="<soap:Body> ",o+='<PIC_UPLoad xmlns="http://tempuri.org/">',o+="<FContractNo>"+this.contractNo+"</FContractNo>",o+="<FType>"+this.processName+"</FType>",o+="<FPath>"+e+"</FPath>",o+="<FPercent>"+l+"</FPercent>",o+="<FStage>"+t+"</FStage>",o+="<FDB>"+this.curDB+"</FDB>",o+="</PIC_UPLoad>",o+="</soap:Body>",o+="</soap:Envelope>",this.Http.post("PIC_UPLoad",o).then(function(e){var t=e.data,l=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("PIC_UPLoadResponse")[0].getElementsByTagName("PIC_UPLoadResult")[0],o=C()(l).html();"1"===JSON.parse(o)[0].code?(a.$message({message:"上传成功!",type:"success"}),a.getFileList(),a.removeFile(null,null,s),a.$emit("refresh")):a.$message({message:"上传失败!",type:"error"})}).catch(function(e){console.log(e)})},initFileList:function(){this.fileList={"合同签订":{"销售合同":[]},"进场施工":{"开工报告":[],"工程交底会议":[],"项目流转单":[]},"设备到现场":{"设备签收单":[]},"隐蔽验收":{"试气报告":[],"试压报告":[],"灌水试验报告":[]},"安装调试":{"调试验收单":[],"设备移交单":[]},"竣工验收":{"竣工图":[]},"审价结算":{"审计报告":[]},"项目移交":{"同竣工验收资料":[]},"质保开始":{"调试验收单":[]},"质保结束":{"文件":[]}}},getFileList:function(){var e=this;this.initFileList();var t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<JA_LIST xmlns="http://tempuri.org/">',t+="<FSQL>select fcontractno 合同号,ftype 阶段,fstage,'http://zicpp.zicp.vip:59215/zetian_file/'+fcontractno+'/'+fpath 文件路径,convert(varchar(50),fdate,23)fdate,isnull(fper,0)fper from Z_FILE where fcontractno='"+this.contractNo+"' and ftype='"+this.processName+"' and fdb='"+this.curDB+"'</FSQL>",t+="</JA_LIST>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("JA_LIST",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html(),o=JSON.parse(l);console.log("orignFile",o),o.map(function(t){t.fileDate=t.fdate?t.fdate:"",t.fpercent=t.fper+"%";var s=t["文件路径"].indexOf(e.contractNo)+e.contractNo.length+1;t.fileName=t["文件路径"].slice(s),e.fileList[e.processName][t.fstage].push(t)}),console.log("fileList",e.fileList),"隐蔽验收"===e.processName||"安装调试"===e.processName?e.ifShowUpload=!0:e.ifShowUpload=0===o.length}).catch(function(e){console.log(e)})},saveJgDate:function(){var e=this;if(!this.formAppend.jgDate)return this.$message({message:"请选择竣工日期!",type:"warning"}),!1;var t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<Jungong_Date xmlns="http://tempuri.org/">',t+="<FContractNo>"+this.contractNo+"</FContractNo>",t+="<FDate>"+this.formAppend.jgDate+"</FDate>",t+="<FDB>"+this.curDB+"</FDB>",t+="</Jungong_Date>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("Jungong_Date",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("Jungong_DateResponse")[0].getElementsByTagName("Jungong_DateResult")[0],l=C()(a).html();"1"===JSON.parse(l)[0].code?e.surefinish():e.$message({message:"竣工日期保存失败!",type:"error"})}).catch(function(e){console.log(e)})},saveSjPrice:function(){var e=this;if(this.formAppend.sjPrice){var t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<ShenJi_Amount xmlns="http://tempuri.org/">',t+="<FContractNo>"+this.contractNo+"</FContractNo>",t+="<FAmount>"+this.formAppend.sjPrice+"</FAmount>",t+="<FDB>"+this.curDB+"</FDB>",t+="</ShenJi_Amount>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("ShenJi_Amount",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("ShenJi_AmountResponse")[0].getElementsByTagName("ShenJi_AmountResult")[0],l=C()(a).html();"1"===JSON.parse(l)[0].code?e.surefinish():e.$message({message:"审价金额保存失败!",type:"error"})}).catch(function(e){console.log(e)})}else this.surefinish()},saveZbksDate:function(){var e=this;if(!this.formAppend.zbksDate)return this.$message({message:"请选质保开始日期!",type:"warning"}),!1;var t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<ZhibaoStart_Date xmlns="http://tempuri.org/">',t+="<FContractNo>"+this.contractNo+"</FContractNo>",t+="<FDate>"+this.formAppend.zbksDate+"</FDate>",t+="<FDB>"+this.curDB+"</FDB>",t+="</ZhibaoStart_Date>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("ZhibaoStart_Date",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("ZhibaoStart_DateResponse")[0].getElementsByTagName("ZhibaoStart_DateResult")[0],l=C()(a).html();"1"===JSON.parse(l)[0].code?e.surefinish():e.$message({message:"质保开始日期保存失败!",type:"error"})}).catch(function(e){console.log(e)})},finish:function(){switch(this.processName){case"放号":this.surefinish();break;case"合同签订":0!==this.fileList["合同签订"]["销售合同"].length||this.formHtqd.checked?this.surefinish():this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"});break;case"进场施工":0===this.fileList["进场施工"]["开工报告"].length&&!this.formJcsg_kgbg.checked||0===this.fileList["进场施工"]["工程交底会议"].length&&!this.formJcsg_gcjdhy.checked||0===this.fileList["进场施工"]["项目流转单"].length&&!this.formJcsg_xmlzd.checked?this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"}):this.surefinish();break;case"设备到现场":0!==this.fileList["设备到现场"]["设备签收单"].length||this.formSbdxc.checked?this.surefinish():this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"});break;case"隐蔽验收":0===this.fileList["隐蔽验收"]["试气报告"].length&&!this.formYbys_sqbg.checked||0===this.fileList["隐蔽验收"]["试压报告"].length&&!this.formYbys_sybg.checked||0===this.fileList["隐蔽验收"]["灌水试验报告"].length&&!this.formYbys_gssybg.checked?this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"}):this.surefinish();break;case"安装调试":0===this.fileList["安装调试"]["调试验收单"].length&&!this.formAzts_tsysd.checked||0===this.fileList["安装调试"]["设备移交单"].length&&!this.formAzts_sbyjd.checked?this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"}):this.surefinish();break;case"竣工验收":0!==this.fileList["竣工验收"]["竣工图"].length||this.formJgys.checked?this.saveJgDate():this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"});break;case"审价结算":0!==this.fileList["审价结算"]["审计报告"].length||this.formSjjs.checked?this.saveSjPrice():this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"});break;case"项目移交":0!==this.fileList["项目移交"]["同竣工验收资料"].length||this.formXmyj.checked?this.surefinish():this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"});break;case"质保开始":0!==this.fileList["质保开始"]["调试验收单"].length||this.formZbks.checked?this.saveZbksDate():this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"});break;case"质保结束":0!==this.fileList["质保结束"]["文件"].length||this.formZbjs.checked?this.surefinish():this.$message({message:"文件尚未上传完整，目前不能确认完成!",type:"warning"})}},surefinish:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<jindu xmlns="http://tempuri.org/">',t+="<FContractNo>"+this.contractNo+"</FContractNo>",t+="<FType>"+this.processName+"</FType>",t+="<FColor>2</FColor>",t+="<FDB>"+this.curDB+"</FDB>",t+="</jindu>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("jindu",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("jinduResponse")[0].getElementsByTagName("jinduResult")[0],l=C()(a).html();"1"===JSON.parse(l)[0].code?(e.$message({message:"确认成功!",type:"success"}),e.$emit("toggleProcessDialog",!1),e.$emit("markRed",e.curEditIdx)):e.$message({message:"确认失败!",type:"error"})}).catch(function(e){console.log(e)})},backUnFinished:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<jindu xmlns="http://tempuri.org/">',t+="<FContractNo>"+this.contractNo+"</FContractNo>",t+="<FType>"+this.processName+"</FType>",t+="<FDB>"+this.curDB+"</FDB>",t+="<FColor>10</FColor>",t+="</jindu>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("jindu",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("jinduResponse")[0].getElementsByTagName("jinduResult")[0],l=C()(a).html(),o=JSON.parse(l)[0];console.log("backFInish",o),"1"===o.code?(e.$message({message:"反确认成功!",type:"success"}),e.$emit("toggleProcessDialog",!1),e.$emit("refresh")):e.$message({message:"反确认失败!",type:"error"})}).catch(function(e){console.log(e)})},beforeUpload:function(e){},buf2hex:function(e){return Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("")}}},k={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ProcessEdit"},[s("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.processName,visible:e.dialogProcessVisible,width:"750px"},on:{close:e.closeDialog,"update:visible":function(t){e.dialogProcessVisible=t}}},[s("section",["放号"!=e.processName?s("p",{staticClass:"TextAlignL MarginB_10"},[s("b",[e._v("已上传的文件：")])]):e._e(),e._v(" "),"合同签订"==e.processName?s("section",[0==e.fileList["合同签订"]["销售合同"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[s("span",{staticClass:"secondTit"},[e._v("销售合同")]),e._v(" "),e._l(e.fileList["合同签订"]["销售合同"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"销售合同")}}})])])})],2)]):e._e(),e._v(" "),"进场施工"==e.processName?s("section",[0==e.fileList["进场施工"]["开工报告"].length&&0==e.fileList["进场施工"]["工程交底会议"].length&&0==e.fileList["进场施工"]["项目流转单"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["进场施工"]["开工报告"].length>0?s("span",{staticClass:"secondTit"},[e._v("开工报告")]):e._e(),e._v(" "),e._l(e.fileList["进场施工"]["开工报告"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"开工报告")}}})])])}),e._v(" "),e.fileList["进场施工"]["工程交底会议"].length>0?s("span",{staticClass:"secondTit"},[e._v("工程交底会议")]):e._e(),e._v(" "),e._l(e.fileList["进场施工"]["工程交底会议"],function(t,a){return s("p",{key:"工程交底会议"+a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"工程交底会议")}}})])])}),e._v(" "),e.fileList["进场施工"]["项目流转单"].length>0?s("span",{staticClass:"secondTit"},[e._v("项目流转单")]):e._e(),e._v(" "),e._l(e.fileList["进场施工"]["项目流转单"],function(t,a){return s("p",{key:"项目流转单"+a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"项目流转单")}}})])])})],2)]):e._e(),e._v(" "),"设备到现场"==e.processName?s("section",[0==e.fileList["设备到现场"]["设备签收单"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["设备到现场"]["设备签收单"].length>0?s("span",{staticClass:"secondTit"},[e._v("设备签收单")]):e._e(),e._v(" "),e._l(e.fileList["设备到现场"]["设备签收单"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[s("span",{staticStyle:{"padding-right":"10px"}},[e._v(e._s(t.fpercent))]),e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"设备签收单")}}})])])})],2)]):e._e(),e._v(" "),"隐蔽验收"==e.processName?s("section",[0==e.fileList["隐蔽验收"]["试气报告"].length&&0==e.fileList["隐蔽验收"]["试压报告"].length&&0==e.fileList["隐蔽验收"]["灌水试验报告"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["隐蔽验收"]["试气报告"].length>0?s("span",{staticClass:"secondTit"},[e._v("试气报告")]):e._e(),e._v(" "),e._l(e.fileList["隐蔽验收"]["试气报告"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[s("span",{staticStyle:{"padding-right":"10px"}},[e._v(e._s(t.fpercent))]),e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"试气报告")}}})])])}),e._v(" "),e.fileList["隐蔽验收"]["试压报告"].length>0?s("span",{staticClass:"secondTit"},[e._v("试压报告")]):e._e(),e._v(" "),e._l(e.fileList["隐蔽验收"]["试压报告"],function(t,a){return s("p",{key:"试压报告"+a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[s("span",{staticStyle:{"padding-right":"10px"}},[e._v(e._s(t.fpercent))]),e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"试压报告")}}})])])}),e._v(" "),e.fileList["隐蔽验收"]["灌水试验报告"].length>0?s("span",{staticClass:"secondTit"},[e._v("灌水试验报告")]):e._e(),e._v(" "),e._l(e.fileList["隐蔽验收"]["灌水试验报告"],function(t,a){return s("p",{key:"灌水试验报告"+a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[s("span",{staticStyle:{"padding-right":"10px"}},[e._v(e._s(t.fpercent))]),e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"灌水试验报告")}}})])])})],2)]):e._e(),e._v(" "),"安装调试"==e.processName?s("section",[0==e.fileList["安装调试"]["调试验收单"].length&&0==e.fileList["安装调试"]["设备移交单"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["安装调试"]["调试验收单"].length>0?s("span",{staticClass:"secondTit"},[e._v("调试验收单")]):e._e(),e._v(" "),e._l(e.fileList["安装调试"]["调试验收单"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[s("span",{staticStyle:{"padding-right":"10px"}},[e._v(e._s(t.fpercent))]),e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"调试验收单")}}})])])}),e._v(" "),e.fileList["安装调试"]["设备移交单"].length>0?s("span",{staticClass:"secondTit"},[e._v("设备移交单")]):e._e(),e._v(" "),e._l(e.fileList["安装调试"]["设备移交单"],function(t,a){return s("p",{key:"设备移交单"+a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[s("span",{staticStyle:{"padding-right":"10px"}},[e._v(e._s(t.fpercent))]),e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"设备移交单")}}})])])})],2)]):e._e(),e._v(" "),"竣工验收"==e.processName?s("section",[0==e.fileList["竣工验收"]["竣工图"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["竣工验收"]["竣工图"].length>0?s("span",{staticClass:"secondTit"},[e._v("竣工图")]):e._e(),e._v(" "),e._l(e.fileList["竣工验收"]["竣工图"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"竣工图")}}})])])})],2)]):e._e(),e._v(" "),"审价结算"==e.processName?s("section",[0==e.fileList["审价结算"]["审计报告"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["审价结算"]["审计报告"].length>0?s("span",{staticClass:"secondTit"},[e._v("审计报告")]):e._e(),e._v(" "),e._l(e.fileList["审价结算"]["审计报告"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"审计报告")}}})])])})],2)]):e._e(),e._v(" "),"项目移交"==e.processName?s("section",[0==e.fileList["项目移交"]["同竣工验收资料"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["项目移交"]["同竣工验收资料"].length>0?s("span",{staticClass:"secondTit"},[e._v("同竣工验收资料")]):e._e(),e._v(" "),e._l(e.fileList["项目移交"]["同竣工验收资料"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"同竣工验收资料")}}})])])})],2)]):e._e(),e._v(" "),"质保开始"==e.processName?s("section",[0==e.fileList["质保开始"]["调试验收单"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",[e.fileList["质保开始"]["调试验收单"].length>0?s("span",{staticClass:"secondTit"},[e._v("调试验收单")]):e._e(),e._v(" "),e._l(e.fileList["质保开始"]["调试验收单"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"调试验收单")}}})])])})],2)]):e._e(),e._v(" "),"质保结束"==e.processName?s("section",[0==e.fileList["质保结束"]["文件"].length?s("p",{staticClass:"TextAlignL PaddingL_28"},[e._v("无相关文件")]):s("div",e._l(e.fileList["质保结束"]["文件"],function(t,a){return s("p",{key:a,staticClass:"TextAlignL MarginB_10 PaddingL_28"},[s("span",{staticClass:"TextIndent"},[e._v(e._s(a+1)+".  "),s("a",{attrs:{href:t["文件路径"]}},[e._v(e._s(t.fileName))])]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("\n              "+e._s(t.fileDate)+"\n              "),s("i",{staticClass:"el-icon-delete CursorPointer",staticStyle:{"margin-left":"20px"},on:{click:function(s){return e.deleteFile(t,"文件")}}})])])}),0)]):e._e(),e._v(" "),2!=e.processStatus?s("div",[s("p",{staticClass:"TextAlignL MarginT_20 MarginB_20"},[s("b",[e._v("上传新文件：（ 文件格式需为doc/pdf ）")])]),e._v(" "),"合同签订"==e.processName?s("section",[s("el-form",{ref:"formHtqd",attrs:{model:e.formHtqd,rules:e.rulesFile,"label-width":"100px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"销售合同",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formHtqd",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formHtqd,"on-change":function(t,s){e.changeFile(t,s,"formHtqd")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"销售合同","formHtqd")},"on-remove":function(t,s){e.removeFile(t,s,"formHtqd")},"auto-upload":!1},model:{value:e.formHtqd.fileName,callback:function(t){e.$set(e.formHtqd,"fileName",t)},expression:"formHtqd.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formHtqd.checked,callback:function(t){e.$set(e.formHtqd,"checked",t)},expression:"formHtqd.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[2!=e.processStatus?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formHtqd","销售合同")}}},[e._v("提 交")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"进场施工"==e.processName?s("section",[s("el-form",{ref:"formJcsg_kgbg",attrs:{model:e.formJcsg_kgbg,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"开工报告",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formJcsg_kgbg",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formJcsg_kgbg,"on-change":function(t,s){e.changeFile(t,s,"formJcsg_kgbg")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"开工报告","formJcsg_kgbg")},"on-remove":function(t,s){e.removeFile(t,s,"formJcsg_kgbg")},"auto-upload":!1},model:{value:e.formJcsg_kgbg.fileName,callback:function(t){e.$set(e.formJcsg_kgbg,"fileName",t)},expression:"formJcsg_kgbg.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formJcsg_kgbg.checked,callback:function(t){e.$set(e.formJcsg_kgbg,"checked",t)},expression:"formJcsg_kgbg.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formJcsg_kgbg","开工报告")}}},[e._v("提 交")])],1)],1)],1),e._v(" "),s("el-form",{ref:"formJcsg_gcjdhy",attrs:{model:e.formJcsg_gcjdhy,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"工程交底会议",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formJcsg_gcjdhy",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formJcsg_gcjdhy,"on-change":function(t,s){e.changeFile(t,s,"formJcsg_gcjdhy")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"工程交底会议","formJcsg_gcjdhy")},"on-remove":function(t,s){e.removeFile(t,s,"formJcsg_gcjdhy")},"auto-upload":!1},model:{value:e.formJcsg_gcjdhy.fileName,callback:function(t){e.$set(e.formJcsg_gcjdhy,"fileName",t)},expression:"formJcsg_gcjdhy.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formJcsg_gcjdhy.checked,callback:function(t){e.$set(e.formJcsg_gcjdhy,"checked",t)},expression:"formJcsg_gcjdhy.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formJcsg_gcjdhy","工程交底会议")}}},[e._v("提 交")])],1)],1)],1),e._v(" "),s("el-form",{ref:"formJcsg_xmlzd",attrs:{model:e.formJcsg_xmlzd,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"项目流转单",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formJcsg_xmlzd",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formJcsg_xmlzd,"on-change":function(t,s){e.changeFile(t,s,"formJcsg_xmlzd")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"项目流转单","formJcsg_xmlzd")},"on-remove":function(t,s){e.removeFile(t,s,"formJcsg_xmlzd")},"auto-upload":!1},model:{value:e.formJcsg_xmlzd.fileName,callback:function(t){e.$set(e.formJcsg_xmlzd,"fileName",t)},expression:"formJcsg_xmlzd.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formJcsg_xmlzd.checked,callback:function(t){e.$set(e.formJcsg_xmlzd,"checked",t)},expression:"formJcsg_xmlzd.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[2!=e.processStatus?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formJcsg_xmlzd","项目流转单")}}},[e._v("提 交")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"设备到现场"==e.processName?s("section",[s("el-form",{ref:"formSbdxc",attrs:{model:e.formSbdxc,rules:e.rulesFile,"label-width":"100px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"设备签收单",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formSbdxc",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formSbdxc,"on-change":function(t,s){e.changeFile(t,s,"formSbdxc")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"设备签收单","formSbdxc")},"on-remove":function(t,s){e.removeFile(t,s,"formSbdxc")},"auto-upload":!1},model:{value:e.formSbdxc.fileName,callback:function(t){e.$set(e.formSbdxc,"fileName",t)},expression:"formSbdxc.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"完成比列",prop:"percent"}},[s("el-input",{staticStyle:{width:"150px"},model:{value:e.formSbdxc.percent,callback:function(t){e.$set(e.formSbdxc,"percent",t)},expression:"formSbdxc.percent"}},[s("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("%")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked","label-width":"1px"}},[s("el-checkbox",{model:{value:e.formSbdxc.checked,callback:function(t){e.$set(e.formSbdxc,"checked",t)},expression:"formSbdxc.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:3}},[2!=e.processStatus?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formSbdxc","设备签收单")}}},[e._v("提 交")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"隐蔽验收"==e.processName?s("section",[s("el-form",{ref:"formYbys_sqbg",attrs:{model:e.formYbys_sqbg,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"试气报告",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formYbys_sqbg",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formYbys_sqbg,"on-change":function(t,s){e.changeFile(t,s,"formYbys_sqbg")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"试气报告","formYbys_sqbg")},"on-remove":function(t,s){e.removeFile(t,s,"formYbys_sqbg")},"auto-upload":!1},model:{value:e.formYbys_sqbg.fileName,callback:function(t){e.$set(e.formYbys_sqbg,"fileName",t)},expression:"formYbys_sqbg.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"完成比列",prop:"percent","label-width":"80px"}},[s("el-input",{staticStyle:{width:"150px"},model:{value:e.formYbys_sqbg.percent,callback:function(t){e.$set(e.formYbys_sqbg,"percent",t)},expression:"formYbys_sqbg.percent"}},[s("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("%")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked","label-width":"1px"}},[s("el-checkbox",{model:{value:e.formYbys_sqbg.checked,callback:function(t){e.$set(e.formYbys_sqbg,"checked",t)},expression:"formYbys_sqbg.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:3}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formYbys_sqbg","试气报告")}}},[e._v("提 交")])],1)],1)],1),e._v(" "),s("el-form",{ref:"formYbys_sybg",attrs:{model:e.formYbys_sybg,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"试压报告",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formYbys_sybg",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formYbys_sybg,"on-change":function(t,s){e.changeFile(t,s,"formYbys_sybg")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"试压报告","formYbys_sybg")},"on-remove":function(t,s){e.removeFile(t,s,"formYbys_sybg")},"auto-upload":!1},model:{value:e.formYbys_sybg.fileName,callback:function(t){e.$set(e.formYbys_sybg,"fileName",t)},expression:"formYbys_sybg.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"完成比列",prop:"percent","label-width":"80px"}},[s("el-input",{staticStyle:{width:"150px"},model:{value:e.formYbys_sybg.percent,callback:function(t){e.$set(e.formYbys_sybg,"percent",t)},expression:"formYbys_sybg.percent"}},[s("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("%")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked","label-width":"1px"}},[s("el-checkbox",{model:{value:e.formYbys_sybg.checked,callback:function(t){e.$set(e.formYbys_sybg,"checked",t)},expression:"formYbys_sybg.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:3}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formYbys_sybg","试压报告")}}},[e._v("提 交")])],1)],1)],1),e._v(" "),s("el-form",{ref:"formYbys_gssybg",attrs:{model:e.formYbys_gssybg,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"灌水试验报告",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formYbys_gssybg",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formYbys_gssybg,"on-change":function(t,s){e.changeFile(t,s,"formYbys_gssybg")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"灌水试验报告","formYbys_gssybg")},"on-remove":function(t,s){e.removeFile(t,s,"formYbys_gssybg")},"auto-upload":!1},model:{value:e.formYbys_gssybg.fileName,callback:function(t){e.$set(e.formYbys_gssybg,"fileName",t)},expression:"formYbys_gssybg.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"完成比列",prop:"percent","label-width":"80px"}},[s("el-input",{staticStyle:{width:"150px"},model:{value:e.formYbys_gssybg.percent,callback:function(t){e.$set(e.formYbys_gssybg,"percent",t)},expression:"formYbys_gssybg.percent"}},[s("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("%")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked","label-width":"1px"}},[s("el-checkbox",{model:{value:e.formYbys_gssybg.checked,callback:function(t){e.$set(e.formYbys_gssybg,"checked",t)},expression:"formYbys_gssybg.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:3}},[2!=e.processStatus?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formYbys_gssybg","灌水试验报告")}}},[e._v("提 交")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"安装调试"==e.processName?s("section",[s("el-form",{ref:"formAzts_tsysd",attrs:{model:e.formAzts_tsysd,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"调试验收单",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formAzts_tsysd",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formAzts_tsysd,"on-change":function(t,s){e.changeFile(t,s,"formAzts_tsysd")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"调试验收单","formAzts_tsysd")},"on-remove":function(t,s){e.removeFile(t,s,"formAzts_tsysd")},"auto-upload":!1},model:{value:e.formAzts_tsysd.fileName,callback:function(t){e.$set(e.formAzts_tsysd,"fileName",t)},expression:"formAzts_tsysd.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"完成比列",prop:"percent","label-width":"80px"}},[s("el-input",{staticStyle:{width:"150px"},model:{value:e.formAzts_tsysd.percent,callback:function(t){e.$set(e.formAzts_tsysd,"percent",t)},expression:"formAzts_tsysd.percent"}},[s("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("%")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked","label-width":"1px"}},[s("el-checkbox",{model:{value:e.formAzts_tsysd.checked,callback:function(t){e.$set(e.formAzts_tsysd,"checked",t)},expression:"formAzts_tsysd.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:3}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formAzts_tsysd","调试验收单")}}},[e._v("提 交")])],1)],1)],1),e._v(" "),s("el-form",{ref:"formAzts_sbyjd",attrs:{model:e.formAzts_sbyjd,rules:e.rulesFile,"label-width":"120px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"设备移交单",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formAzts_sbyjd",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formAzts_sbyjd,"on-change":function(t,s){e.changeFile(t,s,"formAzts_sbyjd")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"设备移交单","formAzts_sbyjd")},"on-remove":function(t,s){e.removeFile(t,s,"formAzts_sbyjd")},"auto-upload":!1},model:{value:e.formAzts_sbyjd.fileName,callback:function(t){e.$set(e.formAzts_sbyjd,"fileName",t)},expression:"formAzts_sbyjd.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:9}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"完成比列",prop:"percent","label-width":"80px"}},[s("el-input",{staticStyle:{width:"150px"},model:{value:e.formAzts_sbyjd.percent,callback:function(t){e.$set(e.formAzts_sbyjd,"percent",t)},expression:"formAzts_sbyjd.percent"}},[s("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("%")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked","label-width":"1px"}},[s("el-checkbox",{model:{value:e.formAzts_sbyjd.checked,callback:function(t){e.$set(e.formAzts_sbyjd,"checked",t)},expression:"formAzts_sbyjd.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:3}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formAzts_sbyjd","设备移交单")}}},[e._v("提 交")])],1)],1)],1)],1):e._e(),e._v(" "),"竣工验收"==e.processName?s("section",[s("el-form",{ref:"formJgys",attrs:{model:e.formJgys,rules:e.rulesFile,"label-width":"100px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"竣工图",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formJgys",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formJgys,"on-change":function(t,s){e.changeFile(t,s,"formJgys")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"竣工图","formJgys")},"on-remove":function(t,s){e.removeFile(t,s,"formJgys")},"auto-upload":!1},model:{value:e.formJgys.fileName,callback:function(t){e.$set(e.formJgys,"fileName",t)},expression:"formJgys.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formJgys.checked,callback:function(t){e.$set(e.formJgys,"checked",t)},expression:"formJgys.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[2!=e.processStatus?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formJgys","竣工图")}}},[e._v("提 交")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"审价结算"==e.processName?s("section",[s("el-form",{ref:"formSjjs",attrs:{model:e.formSjjs,rules:e.rulesFile,"label-width":"100px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"审计报告",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formSjjs",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formSjjs,"on-change":function(t,s){e.changeFile(t,s,"formSjjs")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"审计报告","formSjjs")},"on-remove":function(t,s){e.removeFile(t,s,"formSjjs")},"auto-upload":!1},model:{value:e.formSjjs.fileName,callback:function(t){e.$set(e.formSjjs,"fileName",t)},expression:"formSjjs.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formSjjs.checked,callback:function(t){e.$set(e.formSjjs,"checked",t)},expression:"formSjjs.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[2!=e.processStatus?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formSjjs","审计报告")}}},[e._v("提 交")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"项目移交"==e.processName?s("section",[s("el-form",{ref:"formXmyj",attrs:{model:e.formXmyj,rules:e.rulesFile,"label-width":"130px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"同竣工验收资料",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formXmyj",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formXmyj,"on-change":function(t,s){e.changeFile(t,s,"formXmyj")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"同竣工验收资料","formXmyj")},"on-remove":function(t,s){e.removeFile(t,s,"formXmyj")},"auto-upload":!1},model:{value:e.formXmyj.fileName,callback:function(t){e.$set(e.formXmyj,"fileName",t)},expression:"formXmyj.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formXmyj.checked,callback:function(t){e.$set(e.formXmyj,"checked",t)},expression:"formXmyj.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[2!=e.processStatus?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formXmyj","同竣工验收资料")}}},[e._v("提 交")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"质保开始"==e.processName?s("section",[s("el-form",{ref:"formZbks",attrs:{model:e.formZbks,rules:e.rulesFile,"label-width":"130px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"调试验收单",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formZbks",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formZbks,"on-change":function(t,s){e.changeFile(t,s,"formZbks")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"调试验收单","formZbks")},"on-remove":function(t,s){e.removeFile(t,s,"formZbks")},"auto-upload":!1},model:{value:e.formZbks.fileName,callback:function(t){e.$set(e.formZbks,"fileName",t)},expression:"formZbks.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formZbks.checked,callback:function(t){e.$set(e.formZbks,"checked",t)},expression:"formZbks.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formZbks","调试验收单")}}},[e._v("提 交")])],1)],1)],1)],1):e._e(),e._v(" "),"质保结束"==e.processName?s("section",[s("el-form",{ref:"formZbjs",attrs:{model:e.formZbjs,rules:e.rulesFile,"label-width":"130px","label-position":"left"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"文件",prop:"fileName"}},[s("el-row",[s("el-upload",{ref:"upload_formZbjs",staticClass:"upload-demo",attrs:{action:e.uploadAdr,accept:".pdf,.doc,.PDF","file-list":e.curFileList_formZbjs,"on-change":function(t,s){e.changeFile(t,s,"formZbjs")},"before-upload":e.beforeUpload,"on-success":function(t){e.handleUploadSuccess(t,"文件","formZbjs")},"on-remove":function(t,s){e.removeFile(t,s,"formZbjs")},"auto-upload":!1},model:{value:e.formZbjs.fileName,callback:function(t){e.$set(e.formZbjs,"fileName",t)},expression:"formZbjs.fileName"}},[s("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-upload",type:""},slot:"trigger"},[e._v("选取文件")])],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"",prop:"checked"}},[s("el-checkbox",{model:{value:e.formZbjs.checked,callback:function(t){e.$set(e.formZbjs,"checked",t)},expression:"formZbjs.checked"}},[e._v("无必要文件")])],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignR",attrs:{span:4}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFile("formZbjs","文件")}}},[e._v("提 交")])],1)],1)],1)],1):e._e()]):e._e()]),e._v(" "),s("section",[s("el-form",{ref:"formAppend",attrs:{model:e.formAppend,"label-width":"100px","label-position":"left"}},["竣工验收"==e.processName&&2!=e.processStatus?s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"竣工日期",prop:"jgDate"}},[s("el-row",[s("el-col",{attrs:{span:20}},[s("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.formAppend.jgDate,callback:function(t){e.$set(e.formAppend,"jgDate",t)},expression:"formAppend.jgDate"}})],1)],1)],1):e._e(),e._v(" "),"审价结算"==e.processName&&2!=e.processStatus?s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"审价金额",prop:"sjPrice"}},[s("el-row",[s("el-col",{attrs:{span:20}},[s("el-input",{staticStyle:{width:"200px"},model:{value:e.formAppend.sjPrice,callback:function(t){e.$set(e.formAppend,"sjPrice",t)},expression:"formAppend.sjPrice"}})],1)],1)],1):e._e(),e._v(" "),"质保开始"==e.processName&&2!=e.processStatus?s("el-form-item",{staticClass:"TextAlignL",attrs:{label:"质保开始日期",prop:"zbksDate"}},[s("el-row",[s("el-col",{attrs:{span:20}},[s("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.formAppend.zbksDate,callback:function(t){e.$set(e.formAppend,"zbksDate",t)},expression:"formAppend.zbksDate"}})],1)],1)],1):e._e()],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer TextAlignC",staticStyle:{width:"100%",display:"inline-block"},attrs:{slot:"footer"},slot:"footer"},[2!=e.processStatus?s("el-button",{attrs:{type:"danger"},on:{click:e.finish}},[e._v("确认完成")]):e._e(),e._v(" "),2==e.processStatus||3==e.processStatus?s("el-button",{attrs:{type:"danger"},on:{click:e.backUnFinished}},[e._v("反确认")]):e._e()],1)])],1)},staticRenderFns:[]};var N={name:"InfoDynamicTable",data:function(){return{ifEdit:!1,processName:"",curLuiCheng:"",curLuiChengIdx:"",curEditIdx:"",processStatus:"",formBasic:{},xmjlHistory:[],swryHistory:[],receiptRateInfo:[],wsjeSB:null,warnList:["预收款未收齐"],steps:[],curTimeStamp:"",liuCheng:["放号","合同签订","进场施工","设备到现场","隐蔽验收","安装调试","竣工验收","审价结算","项目移交","质保开始","质保结束"]}},components:{ProcessEdit:s("C7Lr")(S,k,!1,function(e){s("XOqZ")},"data-v-052c2d27",null).exports},computed:x()({},Object(l.c)({curContractNo:function(e){return e.curContractNo},curDB:function(e){return e.curDB},userInfo:function(e){return e.userInfo}})),created:function(){this.getInfor(),this.getxmjl(),this.getSwry()},methods:{toggleProcessDialog:function(e){this.ifEdit=e},back:function(){this.$router.push({name:"FilterTable"})},save:function(){var e=this,t={items:[{FContractNo:this.curContractNo,FDB:this.curDB,f1:this.formBasic.swry,f2:this.formBasic.xmjl,famount:this.formBasic.qyhtje,fsdate:this.formBasic.kgrq?this.formBasic.kgrq:"",fedate:this.formBasic.wgrq?this.formBasic.wgrq:""}]},s='<?xml version="1.0" encoding="utf-8"?>';s+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',s+="<soap:Body> ",s+='<Contractdetail xmlns="http://tempuri.org/">',s+="<FJSONMSG>"+b()(t)+"</FJSONMSG>",s+="</Contractdetail>",s+="</soap:Body>",s+="</soap:Envelope>",this.Http.post("Contractdetail",s).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("ContractdetailResponse")[0].getElementsByTagName("ContractdetailResult")[0],l=C()(a).html();"1"===JSON.parse(l)[0].code?(e.$message({message:"保存成功!",type:"success"}),e.getInfor(),e.getxmjl(),e.getSwry()):e.$message({message:"保存失败!",type:"error"})}).catch(function(e){console.log(e)})},changeStep:function(e){switch(this.processStatus=this.steps[e].status,this.curTimeStamp=(new Date).getTime(),this.processName=this.steps[e].tit,this.steps[e].status){case 0:this.$message({message:"该流程不可进行编辑！",type:"warning"});break;default:this.steps[e].author?(this.curEditIdx=e,this.toggleProcessDialog(!0)):this.$message({message:"对不起，您没有权限对此流程进行编辑！",type:"warning"})}},getInfor:function(){var e=this;return v()(g.a.mark(function t(){var s,a,l;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=w.Loading.service({lock:!0,text:"加载中",spinner:"el-icon-loading"}),t.next=3,e.getReceiptRate();case 3:return a=t.sent,t.next=6,e.getAuthor();case 6:l=t.sent,e.getBasicInfor(a,l,s);case 8:case"end":return t.stop()}},t,e)}))()},getBasicInfor:function(e,t,s){var a=this,l='<?xml version="1.0" encoding="utf-8"?>';l+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',l+="<soap:Body> ",l+='<JA_LIST xmlns="http://tempuri.org/">',l+="<FSQL>SELECT * FROM Z_Contract WHERE  合同号='"+this.curContractNo+"' and 账套名='"+this.curDB+"'</FSQL>",l+="</JA_LIST>",l+="</soap:Body>",l+="</soap:Envelope>",this.Http.post("JA_LIST",l).then(function(l){var o=l.data,r=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],i=C()(r).html(),n=JSON.parse(i)[0];if(console.log("Info---",n),n){var c=(new Date).getTime(),p=n["质保至"]?new Date(n["质保至"]).getTime():c,m=!0;if(a.formBasic={contractNo:n["合同号"],projectName:n["项目名称"],signDepartment:n["部门"],customerName:n["客户"],swry:n["商务人员"],qyrq:n["签约日期"],htje:n["合同金额"],qyhtje:n["签约合同金额"],ysmll:"",xmjl:n["项目经理"],kgrq:n["开工日期"]?n["开工日期"].slice(0,10):"",wgrq:n["完工日期"]?n["完工日期"].slice(0,10):"",jsj:n["结算价"],sjj:n["审计价"],ljkp:n["累计开票"],ljsk:n["累计收款"],chl:n["出货率"],skl:n["收款率"],jgrq:n["竣工日期"],zbq:n["质保期"],zbks:n["质保起"],zbjs:n["质保至"],wsje:n["未收金额"]},e[2]){var u=e[2].fpercent.slice(0,e[2].fpercent.length-1),f=n["收款率"].slice(0,n["收款率"].length-1);m=Number(u)<=Number(f)}if(a.steps=[{status:n["放号"],date:"",tit:"放号",author:t["放号"]},{status:n["合同签订"],date:"",tit:"合同签订",author:t["合同签订"]},{status:n["进场施工"],date:"",tit:"进场施工",author:t["进场施工"]},{status:2===n["设备到现场"]&&(!m||Number(a.wsjeSB)>0)?3:n["设备到现场"],date:"",tit:"设备到现场",author:t["设备到现场"]},{status:n["隐蔽验收"],date:"",tit:"隐蔽验收",author:t["隐蔽验收"]},{status:n["安装调试"],date:"",tit:"安装调试",author:t["安装调试"]},{status:n["竣工验收"],date:"",tit:"竣工验收",author:t["竣工验收"]},{status:n["审价结算"],date:"",tit:"审价结算",author:t["审价结算"]},{status:n["项目移交"],date:"",tit:"项目移交",author:t["项目移交"]},{status:n["质保开始"],date:"",tit:"质保开始",author:t["质保开始"]},{status:c>p?"100.00%"===n["收款率"]?2:3:n["质保结束"],date:"",tit:"质保结束",author:t["质保结束"]}],1===n["放号"])a.curLuiCheng="",a.curLuiChengIdx=0;else for(var d=0;d<11;d++)if(2===n[a.liuCheng[d]]&&0!==n[a.liuCheng[d+1]]&&(a.curLuiCheng=a.liuCheng[d+1],a.curLuiChengIdx=Number(d)+1),2===n[a.liuCheng[d]]&&0===n[a.liuCheng[d+1]])for(var g=d+1;g<11;g++)if(1===n[a.liuCheng[g]]){a.curLuiCheng=a.liuCheng[g],a.curLuiChengIdx=Number(g);break}e[1]?a.wsjeSB=(e[1].fyingshou-e[1].fshiji).toFixed(2):a.wsjeSB="0.00",a.receiptRateInfo=e,s.close()}else a.$message({message:"暂无信息!",type:"info"}),s.close()}).catch(function(e){console.log(e),s.close()})},getSwry:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<JA_LIST xmlns="http://tempuri.org/">',t+="<FSQL><![CDATA[select f1 商务人员,convert(varchar(50),f1date,23) from Z_Contract_log where isnull(f1,'')<>'' and FContractNo='"+this.curContractNo+"' and fdb='"+this.curDB+"'  order by fid]]></FSQL>",t+="</JA_LIST>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("JA_LIST",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html(),o=JSON.parse(l);console.log("reyuan",o),e.swryHistory=o}).catch(function(e){console.log(e)})},getxmjl:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<JA_LIST xmlns="http://tempuri.org/">',t+="<FSQL><![CDATA[select f2 项目经理,convert(varchar(50),f2date,23) from Z_Contract_log where isnull(f2,'')<>'' and FContractNo='"+this.curContractNo+"'and fdb='"+this.curDB+"' order by fid]]></FSQL>",t+="</JA_LIST>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("JA_LIST",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html(),o=JSON.parse(l);e.xmjlHistory=o}).catch(function(e){console.log(e)})},getReceiptRate:function(){var e=this;return new f.a(function(t,s){var a='<?xml version="1.0" encoding="utf-8"?>';a+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',a+="<soap:Body> ",a+='<JA_LIST xmlns="http://tempuri.org/">',a+="<FSQL>exec z_skbl '"+e.curContractNo+"'</FSQL>",a+="</JA_LIST>",a+="</soap:Body>",a+="</soap:Envelope>",e.Http.post("JA_LIST",a).then(function(e){var s=e.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html(),o=JSON.parse(l);console.log("ReceiptRate--",o),t(o)}).catch(function(e){console.log(e)})})},getAuthor:function(){var e=this;return new f.a(function(t,s){var a='<?xml version="1.0" encoding="utf-8"?>';a+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',a+="<soap:Body> ",a+='<JA_LIST xmlns="http://tempuri.org/">',a+="<FSQL>select isnull(f_102,0)放号,isnull(f_103,0)合同签订,isnull(f_104,0)进场施工,isnull(f_105,0)设备到现场,isnull(f_106,0)隐蔽验收,isnull(f_107,0)安装调试,isnull(f_108,0)竣工验收,isnull(f_109,0)审价结算,isnull(f_110,0)项目移交,isnull(f_111,0)质保开始,isnull(f_112,0)质保结束 from t_emp where fitemid="+e.userInfo.fempid+"</FSQL>",a+="</JA_LIST>",a+="</soap:Body>",a+="</soap:Envelope>",e.Http.post("JA_LIST",a).then(function(e){var s=e.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html(),o=JSON.parse(l)[0];t(o)}).catch(function(e){console.log(e)})})},markRed:function(e){var t=this;this.steps.map(function(s,a){if(1===s.status&&a<e){var l='<?xml version="1.0" encoding="utf-8"?>';l+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',l+="<soap:Body> ",l+='<jindu xmlns="http://tempuri.org/">',l+="<FContractNo>"+t.curContractNo+"</FContractNo>",l+="<FType>"+s.tit+"</FType>",l+="<FColor>3</FColor>",l+="</jindu>",l+="</soap:Body>",l+="</soap:Envelope>",t.Http.post("jindu",l).then(function(e){}).catch(function(e){console.log(e)})}10===a&&t.getInfor()})},toOutlay:function(){this.$router.push({name:"Outlay"})},toCost:function(){this.$router.push({name:"Cost"})}}},T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"InfoDynamicTable"},[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"ModuleTit TextAlignL"},[e._v("项目信息 "),s("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-close"},on:{click:e.back}})],1),e._v(" "),s("el-form",{ref:"formBasic",staticClass:"DisabledNormal MarginT_20",staticStyle:{"padding-right":"20px"},attrs:{model:e.formBasic,"label-width":"100px",size:"small"}},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"合同编号"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.contractNo,callback:function(t){e.$set(e.formBasic,"contractNo",t)},expression:"formBasic.contractNo"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{label:"项目名称"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.projectName,callback:function(t){e.$set(e.formBasic,"projectName",t)},expression:"formBasic.projectName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"签约日期"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.qyrq,callback:function(t){e.$set(e.formBasic,"qyrq",t)},expression:"formBasic.qyrq"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"签约部门"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.signDepartment,callback:function(t){e.$set(e.formBasic,"signDepartment",t)},expression:"formBasic.signDepartment"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{label:"客户名称"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.customerName,callback:function(t){e.$set(e.formBasic,"customerName",t)},expression:"formBasic.customerName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"签约合同金额"}},[s("el-input",{model:{value:e.formBasic.qyhtje,callback:function(t){e.$set(e.formBasic,"qyhtje",t)},expression:"formBasic.qyhtje"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"TextAlignL",attrs:{span:6}},[s("el-form-item",{attrs:{label:"商务人员"}},[s("el-input",{staticStyle:{width:"70%"},attrs:{clearable:""},model:{value:e.formBasic.swry,callback:function(t){e.$set(e.formBasic,"swry",t)},expression:"formBasic.swry"}}),e._v(" "),s("el-popover",{attrs:{placement:"right",width:"100",trigger:"click"}},[s("div",e._l(e.swryHistory,function(t,a){return s("p",{key:a},[e._v(e._s(t["商务人员"])+" "),s("span",{staticStyle:{float:"right"}},[e._v(e._s(t.Column1))])])}),0),e._v(" "),s("el-button",{staticStyle:{width:"25%",display:"inline-block"},attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("历史记录")])],1)],1)],1),e._v(" "),s("el-col",{staticClass:"TextAlignL",attrs:{span:6}},[s("el-form-item",{attrs:{label:"项目经理"}},[s("el-input",{staticStyle:{width:"70%"},attrs:{clearable:""},model:{value:e.formBasic.xmjl,callback:function(t){e.$set(e.formBasic,"xmjl",t)},expression:"formBasic.xmjl"}}),e._v(" "),s("el-popover",{attrs:{placement:"right",width:"100",trigger:"click"}},[s("div",e._l(e.xmjlHistory,function(t,a){return s("p",{key:a},[e._v(e._s(t["项目经理"])+"  "),s("span",{staticStyle:{float:"right"}},[e._v(e._s(t.Column1))])])}),0),e._v(" "),s("el-button",{staticStyle:{width:"25%",display:"inline-block"},attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("历史记录")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"合同金额"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.htje,callback:function(t){e.$set(e.formBasic,"htje",t)},expression:"formBasic.htje"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"结算价"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.jsj,callback:function(t){e.$set(e.formBasic,"jsj",t)},expression:"formBasic.jsj"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"开工日期"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.formBasic.kgrq,callback:function(t){e.$set(e.formBasic,"kgrq",t)},expression:"formBasic.kgrq"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"完工日期"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.formBasic.wgrq,callback:function(t){e.$set(e.formBasic,"wgrq",t)},expression:"formBasic.wgrq"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"审计价"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.sjj,callback:function(t){e.$set(e.formBasic,"sjj",t)},expression:"formBasic.sjj"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"预算毛利率"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.ysmll,callback:function(t){e.$set(e.formBasic,"ysmll",t)},expression:"formBasic.ysmll"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"累计开票"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.ljkp,callback:function(t){e.$set(e.formBasic,"ljkp",t)},expression:"formBasic.ljkp"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"累计收款"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.ljsk,callback:function(t){e.$set(e.formBasic,"ljsk",t)},expression:"formBasic.ljsk"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"出货率"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.chl,callback:function(t){e.$set(e.formBasic,"chl",t)},expression:"formBasic.chl"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"收款率"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.skl,callback:function(t){e.$set(e.formBasic,"skl",t)},expression:"formBasic.skl"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"竣工日期"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.jgrq,callback:function(t){e.$set(e.formBasic,"jgrq",t)},expression:"formBasic.jgrq"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"质保期"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.zbq,callback:function(t){e.$set(e.formBasic,"zbq",t)},expression:"formBasic.zbq"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"质保起"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.zbks,callback:function(t){e.$set(e.formBasic,"zbks",t)},expression:"formBasic.zbks"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"质保至"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formBasic.zbjs,callback:function(t){e.$set(e.formBasic,"zbjs",t)},expression:"formBasic.zbjs"}})],1)],1)],1),e._v(" "),s("el-button",{staticClass:"MarginB_20",attrs:{type:"danger",size:"small"},on:{click:e.save}},[e._v("保 存")])],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("div",{staticClass:"ModuleTit TextAlignL"},[e._v("收款比例")]),e._v(" "),e.receiptRateInfo.length>0?s("section",{staticClass:"TextAlignL MarginB_10",staticStyle:{"font-size":"14px",height:"150px","overflow-y":"scroll",padding:"0 5px 5px 20px"}},[s("el-row",{staticStyle:{"margin-bottom":"10px","font-weight":"bold"}},[s("el-col",{attrs:{span:4}},[e._v("项目")]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v("实际比例")]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v("应收金额")]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v("实际金额")]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v("未收金额")])],1),e._v(" "),e._l(e.receiptRateInfo,function(t,a){return s("div",{key:a,staticClass:"text item MarginB_10"},[s("el-row",[s("el-col",{attrs:{span:4}},[e._v(e._s(a+1)+". "+e._s(t.FName))]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v(e._s(t.fpercent))]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v(e._s(t.fyingshou))]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v(e._s(t.fshiji))]),e._v(" "),s("el-col",{attrs:{span:4}},[e._v(e._s((t.fyingshou-t.fshiji).toFixed(2)))])],1)],1)})],2):s("section",{staticClass:"TextAlignL MarginB_10",staticStyle:{"font-size":"14px",height:"100px"}},[s("div",{staticStyle:{"text-align":"center","line-height":"100px"}},[e._v("暂无数据")])])])],1),e._v(" "),s("el-col",{staticClass:"TextAlignL",attrs:{span:24}},[s("span",{staticClass:"ModuleTit"},[e._v("工程项目总进度")])]),e._v(" "),s("el-col",{staticClass:"StepWrap TextAlignL",staticStyle:{width:"100%","overflow-x":"scroll"},attrs:{span:24}},e._l(e.steps,function(t,a){return s("div",{key:a,class:{SetpItem:!0,NotAllowed:0==t.status},on:{click:function(t){return e.changeStep(a)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:a>0,expression:"idx > 0"}],class:{LineItem:!0,bgGrey:0==t.status,bgYellow:1==t.status&&e.curLuiCheng!=t.tit,bgBlue:1==t.status&&e.curLuiCheng==t.tit,bgGreen:2==t.status,bgRed:3==t.status}}),e._v(" "),s("div",{staticClass:"DotItemwrap"},[s("div",{staticClass:"TextItem"},[s("p",[e._v(e._s("合同签订"==t.tit||"设备到现场"==t.tit||"审价结算"==t.tit||"质保结束"==t.tit?e.formBasic.swry:e.formBasic.xmjl))]),e._v(" "),"设备到现场"==t.tit?s("p",[e._v(e._s(e.wsjeSB>0?e.wsjeSB:""))]):e._e(),e._v(" "),3==t.status&&"质保结束"==t.tit?s("p",[e._v(e._s(e.formBasic.wsje>0?e.formBasic.wsje:""))]):e._e()]),e._v(" "),s("div",{class:{DotItem:!0,bgGrey:0==t.status,bgYellow:1==t.status&&e.curLuiCheng!=t.tit,bgBlue:1==t.status&&e.curLuiCheng==t.tit,bgGreen:2==t.status,bgRed:3==t.status}}),e._v(" "),s("div",{staticClass:"TextItem"},[s("p",[e._v(e._s(t.tit))])])])])}),0),e._v(" "),s("el-col",{staticClass:"MarginT_20 MarginB_20",attrs:{span:24}},[s("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("返 回")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.toCost}},[e._v("成 本")]),e._v(" "),s("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.toOutlay}},[e._v("费 用")])],1),e._v(" "),e.ifEdit?s("ProcessEdit",{attrs:{curTimeStamp:e.curTimeStamp,processStatus:e.processStatus,processName:e.processName,curEditIdx:e.curEditIdx,curLuiChengIdx:e.curLuiChengIdx,contractNo:e.formBasic.contractNo},on:{markRed:e.markRed,refresh:e.getInfor,toggleProcessDialog:e.toggleProcessDialog}}):e._e()],1)},staticRenderFns:[]};var A=s("C7Lr")(N,T,!1,function(e){s("AA9H")},"data-v-4bb9bd68",null).exports,B={name:"FilterTable",data:function(){return{loading:!1,tableHieght:0,curPage:1,pageSize:20,sum:0,resultData:[],signDepartmentList:[],contractPriceList:[{label:"全部",value:-1},{label:"99万元以下",value:0},{label:"100-999万元",value:1},{label:"1000-2999万元",value:2},{label:"3000万元以上",value:3}],signYearList2:[{label:"全部",value:-1},{label:"2015",value:"2015"},{label:"2016",value:"2016"},{label:"2017",value:"2017"},{label:"2018",value:"2018"},{label:"2019",value:"2019"}],warnTipList:[{label:"全部",value:-1},{label:"具有报警的项目",value:0}],signAndFinishList:[{label:"全部",value:-1},{label:"未签约先放号",value:0},{label:"签约后长期无工程信息",value:1},{label:"已完工但未竣工",value:2}],fileConditionnList:[{label:"全部",value:-1},{label:"档案全部交齐",value:0},{label:"归档未完成",value:1}],classConditionList:[{label:"全部",value:-1},{label:"精品项目",value:0},{label:"一般项目",value:1},{label:"难收尾项目",value:2}],receivablesContionList:[{label:"全部",value:-1},{label:"收款全部完成",value:0},{label:"未收预收款",value:1}],performBondList:[{label:"全部",value:-1},{label:"具有履约保证金的项目",value:0}],qualityBondList:[{label:"全部",value:-1},{label:"具有质量保证金的项目",value:0}],shipmentRateList:[],inQualityList:[{label:"全部",value:-1},{label:"无质保的项目",value:0},{label:"有质保的项目",value:1}],subItemsList:[{label:"全部",value:-1},{label:"具有分包的项目",value:0}],sortList:["按签约价","按结算价","按毛利率","按总进度","按出货率","按收款率","按商务人","按项目经理"]}},created:function(){var e=this;setTimeout(function(){var t=document.documentElement.clientHeight;document.getElementById("FilterBlock").style.height=t+"px",e.tableHieght=t},0),this.getDepartSelectList(),this.changeFilter()},computed:x()({},Object(l.c)({resultDataOrigin:function(e){return e.resultDataOrigin},userInfo:function(e){return e.userInfo}}),{formFilter:{get:function(){return this.$store.state.formFilter},set:function(e){this.$store.state.formFilter=e}},signYearList:function(){for(var e=[{FName:"全部"}],t=(new Date).getFullYear();t>=2011;t--)e.push({FName:t});return e}}),methods:x()({},Object(l.b)(["updateContractNo","updateCurDB","updateResultData","updateFilterCondition"]),{goDetail:function(e){this.updateContractNo(e["合同号"]),this.updateCurDB(e["账套名"]),this.$router.push({name:"InfoDynamicTable"})},getDepartSelectList:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<JA_LIST xmlns="http://tempuri.org/">',t+="<FSQL>select FName from t_Department where FDeleted=0</FSQL>",t+="</JA_LIST>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("JA_LIST",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html();e.signDepartmentList=[{FName:"全部"}].concat(JSON.parse(l))}).catch(function(e){console.log(e)})},changeFilter:function(){this.curPage=1,this.search()},handleCurrentChange:function(){this.search()},search:function(){var e=this,t=w.Loading.service({lock:!0,text:"加载中",spinner:"el-icon-loading"});this.getTotal();var s="''",a="''";this.formFilter.contractSumS&&(s=this.formFilter.contractSumS),this.formFilter.contractSumE&&(a=this.formFilter.contractSumE);var l='<?xml version="1.0" encoding="utf-8"?>';l+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',l+="<soap:Body> ",l+='<JA_LIST xmlns="http://tempuri.org/">',l+="<FSQL>exec [Z_ContractList] '"+this.formFilter.contractNo+"','"+this.formFilter.signDepartment+"','"+this.formFilter.customer+"','"+this.formFilter.projectNumber+"',"+s+","+a+","+this.formFilter.signYear+","+Number((this.curPage-1)*this.pageSize+1)+","+this.pageSize*this.curPage+","+this.userInfo.fempid+"</FSQL>",l+="</JA_LIST>",l+="</soap:Body>",l+="</soap:Envelope>",this.Http.post("JA_LIST",l).then(function(s){var a=s.data,l=(new DOMParser).parseFromString(a,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],o=C()(l).html();console.log("HtmlStr1111---",JSON.parse(o)),e.resultData=JSON.parse(o).map(function(e){return e["开工日期"]=e["开工日期"]?e["开工日期"].slice(0,10):"",e["完工日期"]=e["完工日期"]?e["完工日期"].slice(0,10):"",e}),t.close()}).catch(function(e){console.log(e),t.close()})},getTotal:function(){var e=this,t="''",s="''";this.formFilter.contractSumS&&(t=this.formFilter.contractSumS),this.formFilter.contractSumE&&(s=this.formFilter.contractSumE);var a='<?xml version="1.0" encoding="utf-8"?>';a+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',a+="<soap:Body> ",a+='<JA_LIST xmlns="http://tempuri.org/">',a+="<FSQL>exec [Z_ContractList_count] '"+this.formFilter.contractNo+"','"+this.formFilter.signDepartment+"','"+this.formFilter.customer+"','"+this.formFilter.projectNumber+"',"+t+","+s+","+this.formFilter.signYear+","+this.userInfo.fempid+"</FSQL>",a+="</JA_LIST>",a+="</soap:Body>",a+="</soap:Envelope>",this.Http.post("JA_LIST",a).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html();e.sum=JSON.parse(l)[0].fcount}).catch(function(e){console.log(e)})},getList:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<JA_LIST xmlns="http://tempuri.org/">',t+="<FSQL>select FContractNo 合同号,b.fname 项目名称,b.FNumber 项目编号 from t_RPContract a left join t_Item_3001 b on a.fbase=b.FItemID order by FContractNo</FSQL>",t+="</JA_LIST>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("JA_LIST",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html();e.updateResultData(JSON.parse(l))}).catch(function(e){console.log(e)})},enterEvent:function(){13===(event.keyCode?event.keyCode:event.which?event.which:event.charCode)&&this.changeFilter()},mohuSearch:function(){if(this.formFilter.vagueSearch){this.loading=!0;var e=[],t="";this.formFilter.vagueSearch.trim().split("*").map(function(e){t=t+".*"+e});var s=new RegExp(t);this.resultDataOrigin.map(function(t,a){s.test(t["合同号"])&&e.push(t)}),this.resultData=e,this.loading=!1}else this.resultData=[]}})},j={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"FilterTable"},[s("el-row",[s("el-col",{staticClass:"FilterBlock",attrs:{span:11,id:"FilterBlock"}},[s("section",[s("el-row",[s("el-col",{staticClass:"MarginB_20",attrs:{span:24}},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.changeFilter}},[e._v("搜 索")])],1),e._v(" "),s("el-form",{ref:"formFilter",attrs:{model:e.formFilter,"label-width":"70px","label-position":"left",size:"mini"}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"签约部门"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.signDepartment,callback:function(t){e.$set(e.formFilter,"signDepartment",t)},expression:"formFilter.signDepartment"}},e._l(e.signDepartmentList,function(e){return s("el-option",{key:e.FName,attrs:{label:e.FName,value:e.FName}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:11,offset:1}},[s("el-form-item",{attrs:{label:"签约年份"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.signYear,callback:function(t){e.$set(e.formFilter,"signYear",t)},expression:"formFilter.signYear"}},e._l(e.signYearList,function(e){return s("el-option",{key:e.FName,attrs:{label:e.FName,value:e.FName}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"合同金额"}},[s("el-input-number",{attrs:{controls:!1,placeholder:"起始金额"},model:{value:e.formFilter.contractSumS,callback:function(t){e.$set(e.formFilter,"contractSumS",t)},expression:"formFilter.contractSumS"}}),e._v(" "),s("span",{staticStyle:{width:"80px","text-align":"center",display:"inline-block"}},[e._v("——")]),e._v(" "),s("el-input-number",{attrs:{controls:!1,placeholder:"截止金额"},model:{value:e.formFilter.contractSumE,callback:function(t){e.$set(e.formFilter,"contractSumE",t)},expression:"formFilter.contractSumE"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-row",[s("el-col",{staticClass:"TextAlignL",attrs:{span:15}},[s("el-form-item",{attrs:{label:"报警与提示","label-width":"90px"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.warnTip,callback:function(t){e.$set(e.formFilter,"warnTip",t)},expression:"formFilter.warnTip"}},e._l(e.warnTipList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"签约与竣工","label-width":"90px"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.signAndFinish,callback:function(t){e.$set(e.formFilter,"signAndFinish",t)},expression:"formFilter.signAndFinish"}},e._l(e.signAndFinishList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"归档情况"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.fileConditionn,callback:function(t){e.$set(e.formFilter,"fileConditionn",t)},expression:"formFilter.fileConditionn"}},e._l(e.fileConditionnList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"分类管控"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.classCondition,callback:function(t){e.$set(e.formFilter,"classCondition",t)},expression:"formFilter.classCondition"}},e._l(e.classConditionList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"收款情况"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.receivablesContion,callback:function(t){e.$set(e.formFilter,"receivablesContion",t)},expression:"formFilter.receivablesContion"}},e._l(e.receivablesContionList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"履约保证金","label-width":"90px"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.performBond,callback:function(t){e.$set(e.formFilter,"performBond",t)},expression:"formFilter.performBond"}},e._l(e.performBondList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"质量保证金","label-width":"90px"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.qualityBond,callback:function(t){e.$set(e.formFilter,"qualityBond",t)},expression:"formFilter.qualityBond"}},e._l(e.qualityBondList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"出货率(大于输入数的)","label-width":"150px"}},[s("el-input",{staticClass:"WidthFull",model:{value:e.formFilter.shipmentRate,callback:function(t){e.$set(e.formFilter,"shipmentRate",t)},expression:"formFilter.shipmentRate"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"收款率(小于输入数的)","label-width":"150px"}},[s("el-input",{staticClass:"WidthFull",model:{value:e.formFilter.receivablesRate,callback:function(t){e.$set(e.formFilter,"receivablesRate",t)},expression:"formFilter.receivablesRate"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"进入质保期项目","label-width":"110px"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.inQuality,callback:function(t){e.$set(e.formFilter,"inQuality",t)},expression:"formFilter.inQuality"}},e._l(e.inQualityList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"分包项目情况","label-width":"100px"}},[s("el-select",{staticClass:"WidthFull",attrs:{placeholder:"请选择"},model:{value:e.formFilter.subItems,callback:function(t){e.$set(e.formFilter,"subItems",t)},expression:"formFilter.subItems"}},e._l(e.subItemsList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8,offset:1}},[s("section",[s("p",{staticStyle:{"text-align":"left","margin-bottom":"5px"}},[e._v("排序")]),e._v(" "),s("div",{staticClass:"sortBlock"},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"按签约价"}},e._l(e.sortList,function(t,a){return s("el-menu-item",{key:a,attrs:{index:t}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t))])])}),1)],1)]),e._v(" "),s("section",[s("p",{staticClass:"MarginT_10",staticStyle:{"text-align":"left","padding-bottom":"5px"}},[e._v("合同号")]),e._v(" "),s("div",{staticClass:"vagueSearchBlock"},[s("el-input",{attrs:{clearable:"",size:"mini"},model:{value:e.formFilter.contractNo,callback:function(t){e.$set(e.formFilter,"contractNo",t)},expression:"formFilter.contractNo"}})],1)]),e._v(" "),s("section",[s("p",{staticClass:"MarginT_10",staticStyle:{"text-align":"left","padding-bottom":"5px"}},[e._v("项目编号")]),e._v(" "),s("div",{staticClass:"vagueSearchBlock"},[s("el-input",{attrs:{clearable:"",size:"mini"},model:{value:e.formFilter.projectNumber,callback:function(t){e.$set(e.formFilter,"projectNumber",t)},expression:"formFilter.projectNumber"}})],1)]),e._v(" "),s("section",[s("p",{staticClass:"MarginT_10",staticStyle:{"text-align":"left","padding-bottom":"5px"}},[e._v("客户名称")]),e._v(" "),s("div",{staticClass:"vagueSearchBlock"},[s("el-input",{attrs:{clearable:"",size:"mini"},model:{value:e.formFilter.customer,callback:function(t){e.$set(e.formFilter,"customer",t)},expression:"formFilter.customer"}})],1)])])],1)],1)],1)],1)],1)]),e._v(" "),s("el-col",{staticClass:"ResultBloc",attrs:{span:13,id:"ResultBlock"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{id:"resultTable",data:e.resultData,height:e.tableHieght-50,border:""},on:{"row-dblclick":e.goDetail}},[s("el-table-column",{attrs:{fixed:"",type:"index",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{prop:"签约日期",label:"签约日期",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"客户",label:"客户",width:"220","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"项目名称",label:"项目名称",width:"200","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"合同金额",label:"合同金额",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"结算价",label:"结算金额",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"累计开票",label:"累计开票",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"累计收款",label:"累计收款",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"未收金额",label:"剩余未收",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"预算毛利率",label:"预算毛利率",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"费用金额",label:"费用金额",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"成本",label:"成本",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"施工合同",label:"施工合同",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"出货率",label:"出货率",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"部门",label:"部门",width:"180","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"商务人员",label:"商务人员",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"项目经理",label:"项目经理",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"开工日期",label:"开工日期",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"完工日期",label:"完工日期",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"审计价",label:"审计价",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"竣工日期",label:"竣工日期",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"质保期",label:"质保期",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"质保起",label:"质保起",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"质保至",label:"质保结束",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"合同号",label:"合同号","show-overflow-tooltip":"",width:"120"}}),e._v(" "),s("el-table-column",{attrs:{prop:"项目编号",label:"项目编号",width:"250","show-overflow-tooltip":""}})],1),e._v(" "),s("el-pagination",{staticStyle:{float:"right","margin-top":"15px","padding-right":"20px"},attrs:{"current-page":e.curPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.sum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.curPage=t},"update:current-page":function(t){e.curPage=t}}})],1)],1)],1)},staticRenderFns:[]};var D=s("C7Lr")(B,j,!1,function(e){s("IQLC")},"data-v-720e7e36",null).exports,J=s("9pbW"),P=s.n(J),I={name:"Contract",data:function(){return{formContract:{constructionTeam:"",department:"",payTerm:"",salesman:"",contractDate:"",contractName:"",contractNo:"",productionCode:"",affiliatedCompany:"",productionProgress:""},formAdd:{list:[{pcode:"CODE1",pname:"产品名称1",pmodel:"规格型号1",pamount:"",pprice:"",psum:"",pnote:"",punit:"件"}]},productionCodeList:[{value:"CODE1",label:"CODE1"},{value:"CODE2",label:"CODE2"}],productionNumber:[{value:"项目编号1",label:"项目编号1"},{value:"项目编号2",label:"项目编号2"}],constructionTeamList:[{value:"施工1队",label:"施工1队"}],payTermList:[{value:"付款条件1",label:"付款条件1"}],departmentList:[{value:"市场部",label:"市场部"}],salesmanList:[{value:"张三",label:"张三"}],companyeList:[{value:"上海旺策尔信息科技有限公司",label:"上海旺策尔信息科技有限公司"}],progressList:[{value:"完工",label:"完工"}]}},computed:{},created:function(){},methods:{addLine:function(){this.formAdd.list.push({pcode:"",pname:"",pmodel:"",pamount:"",pprice:"",psum:"",pnote:"",punit:""})},changePCode:function(e){console.log(e)},changeFile:function(e,t){var s={0:e.raw};this.readExcel1(s)},readExcel1:function(e){var t=this;if(console.log(e),e.length<=0)return!1;if(!/\.(xls|xlsx)$/.test(e[0].name.toLowerCase()))return this.$Message.error("上传格式不正确，请上传xls或者xlsx格式"),!1;var s=new FileReader;s.onload=function(e){try{var s=e.target.result,a=P.a.read(s,{type:"binary"}),l=a.SheetNames[0],o=P.a.utils.sheet_to_json(a.Sheets[l]);console.log(o),t.$refs.upload.value=""}catch(e){return!1}},s.readAsBinaryString(e[0])}}},$={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Contract"},[s("h2",{staticClass:"MarginT_20 MarginB_20"},[e._v("合同（应收）")]),e._v(" "),s("el-row",{staticClass:"MarginT_20"},[s("el-form",{ref:"formContract",staticStyle:{"padding-right":"20px"},attrs:{model:e.formContract,"label-width":"90px",size:"small"}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"合同日期"}},[s("el-date-picker",{attrs:{prop:"contractDate",type:"date",placeholder:"选择日期"},model:{value:e.formContract.contractDate,callback:function(t){e.$set(e.formContract,"contractDate",t)},expression:"formContract.contractDate"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"合同名称",prop:"contractName"}},[s("el-input",{attrs:{clearable:""},model:{value:e.formContract.contractName,callback:function(t){e.$set(e.formContract,"contractName",t)},expression:"formContract.contractName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"合同号",prop:"contractNo"}},[s("el-input",{attrs:{clearable:""},model:{value:e.formContract.contractNo,callback:function(t){e.$set(e.formContract,"contractNo",t)},expression:"formContract.contractNo"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"施工队",prop:"constructionTeam"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formContract.constructionTeam,callback:function(t){e.$set(e.formContract,"constructionTeam",t)},expression:"formContract.constructionTeam"}},e._l(e.constructionTeamList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"付款条件",prop:"payTerm"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formContract.payTerm,callback:function(t){e.$set(e.formContract,"payTerm",t)},expression:"formContract.payTerm"}},e._l(e.payTermList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"部门",prop:"department"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formContract.department,callback:function(t){e.$set(e.formContract,"department",t)},expression:"formContract.department"}},e._l(e.departmentList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"业务员",prop:"salesman"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formContract.salesman,callback:function(t){e.$set(e.formContract,"salesman",t)},expression:"formContract.salesman"}},e._l(e.salesmanList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"项目编号",prop:"productionCode"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formContract.productionCode,callback:function(t){e.$set(e.formContract,"productionCode",t)},expression:"formContract.productionCode"}},e._l(e.productionNumber,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"所属公司",prop:"affiliatedCompany"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formContract.affiliatedCompany,callback:function(t){e.$set(e.formContract,"affiliatedCompany",t)},expression:"formContract.affiliatedCompany"}},e._l(e.companyeList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"项目进度",prop:"productionProgress"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formContract.productionProgress,callback:function(t){e.$set(e.formContract,"productionProgress",t)},expression:"formContract.productionProgress"}},e._l(e.progressList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)],1),e._v(" "),s("el-row",{staticClass:"listColumnTit"},[s("el-col",{attrs:{span:1}},[s("span",[e._v("行号")])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v("产品代码")])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v("产品名称")])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v("规格型号")])]),e._v(" "),s("el-col",{attrs:{span:2}},[s("span",[e._v("数量")])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v("含税单价")])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v("价税合计")])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v("备注")])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v("计量单位")])])],1),e._v(" "),e._l(e.formAdd.list,function(t,a){return s("el-row",{key:a,staticClass:"listTable"},[s("el-col",{staticStyle:{background:"lightsteelblue"},attrs:{span:1}},[s("span",[e._v(e._s(a+1))])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-select",{staticStyle:{width:"95%",margin:"0 auto"},attrs:{filterable:"",size:"mini",placeholder:"请选择"},on:{change:e.changePCode},model:{value:t.pcode,callback:function(s){e.$set(t,"pcode",s)},expression:"Record.pcode"}},e._l(e.productionCodeList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v(e._s(t.pname))])]),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v(e._s(t.pmodel))])]),e._v(" "),s("el-col",{attrs:{span:2}},[s("el-input",{staticStyle:{width:"95%",margin:"0 auto"},attrs:{size:"mini",clearable:""},model:{value:t.pamount,callback:function(s){e.$set(t,"pamount",s)},expression:"Record.pamount"}})],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-input",{staticStyle:{width:"95%",margin:"0 auto"},attrs:{size:"mini",clearable:""},model:{value:t.pprice,callback:function(s){e.$set(t,"pprice",s)},expression:"Record.pprice"}})],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-input",{staticStyle:{width:"95%",margin:"0 auto"},attrs:{size:"mini",clearable:""},model:{value:t.psum,callback:function(s){e.$set(t,"psum",s)},expression:"Record.psum"}})],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("el-input",{staticStyle:{width:"95%",margin:"0 auto"},attrs:{size:"mini",clearable:""},model:{value:t.pnote,callback:function(s){e.$set(t,"pnote",s)},expression:"Record.pnote"}})],1),e._v(" "),s("el-col",{attrs:{span:3}},[s("span",[e._v(e._s(t.punit))])])],1)}),e._v(" "),s("section",{staticClass:"MarginT_20"},[s("el-button",{attrs:{icon:"el-icon-plus"},on:{click:e.addLine}},[e._v("新增一行")])],1)],2)},staticRenderFns:[]};var E=s("C7Lr")(I,$,!1,function(e){s("qvAF")},"data-v-325f108d",null).exports,z=(s("HzJ8"),s("hRKE"),s("ZLEe"),s("MgeX"),s("mgIi")),M=s.n(z);function R(e,t,s){var a=new Date;a.setTime(a.getTime()+60*s*60*1e3);var l="expires="+a.toUTCString();document.cookie=e+"="+t+"; "+l}function q(){return window.localStorage&&(window.localStorage.setItem("a",123),123===window.localStorage.getItem("a"))}function O(e){var t,s=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(s))?unescape(t[2]):null}var Y={local:{set:function(e,t){if(q())window.localStorage.setItem(e,t);else{var s=new Date;s.setTime(s.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+s.toGMTString()}},get:function(e){return q()?window.localStorage.getItem(e)?window.localStorage.getItem(e):null:O(e)},clear:function(e){if(q())window.localStorage.removeItem(e);else{var t=new Date;t.setTime(t.getTime()-1);var s=O(e);null!=s&&(document.cookie=e+"="+s+";expires="+t.toGMTString())}}}},H={name:"Login",data:function(){return{btLoading:!1,realCode:"",Form:{accountName:"test",accountPsd:"123"},rules:{accountName:[{validator:function(e,t,s){""===t?s(new Error("请输入用户名")):s()},trigger:"change"}],accountPsd:[{validator:function(e,t,s){""===t?s(new Error("请输入密码")):s()},trigger:"change"}]}}},computed:{},created:function(){},methods:x()({},Object(l.b)(["updateUserInfo"]),{Login:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"请将信息填写完整!",type:"warning"}),!1;t.sureLogin()})},sureLogin:function(){var e=this;this.btLoading=!0;var t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<ja_login xmlns="http://tempuri.org/">',t+="<fuserno>"+this.Form.accountName+"</fuserno>",t+="<fuserpsw>"+this.Form.accountPsd+"</fuserpsw>",t+="</ja_login>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("ja_login",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("ja_loginResponse")[0].getElementsByTagName("ja_loginResult")[0],l=C()(a).html(),o=JSON.parse(l);switch(o.status){case"1":R("ZT_14a808c40bba58c2c",M.a.HmacSHA256((e.Form.accountName+e.Form.accountPsd).toString(),"14a808c40bba58c2c"),6),e.updateUserInfo({fempid:o.fempid}),e.$router.push({name:"FilterTable"}),e.btLoading=!1;break;default:e.$message({message:o.message+"!",type:"error"}),e.btLoading=!1}}).catch(function(t){console.log(t),e.btLoading=!1})}})},X={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[s("div",{staticClass:"Login"},[e._m(0),e._v(" "),s("el-form",{ref:"Form",staticClass:"demo-ruleForm",attrs:{model:e.Form,rules:e.rules,"label-width":"0px"}},[s("el-form-item",{attrs:{label:"",prop:"accountName"}},[s("el-input",{attrs:{placeholder:"用户名",clearable:""},model:{value:e.Form.accountName,callback:function(t){e.$set(e.Form,"accountName",t)},expression:"Form.accountName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"",prop:"accountPsd"}},[s("el-input",{attrs:{type:"password",placeholder:"密码",clearable:""},model:{value:e.Form.accountPsd,callback:function(t){e.$set(e.Form,"accountPsd",t)},expression:"Form.accountPsd"}})],1),e._v(" "),s("el-button",{staticClass:"bt",attrs:{type:"primary",loading:e.btLoading},on:{click:function(t){return e.Login("Form")}}},[e._v("登陆")])],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"MarginB_20"},[t("h2",{staticClass:"ColorWhite",staticStyle:{"letter-spacing":".34em"}},[this._v("用户登陆")])])}]};var U=s("C7Lr")(H,X,!1,function(e){s("MSES")},"data-v-29fc509f",null).exports,Z={name:"Outlay",data:function(){return{outlayList:[{"单据编号":"BH123","申请日期":"2019-08-30","事由":"事由","申请人":"张三","申请部门":"人事部","收款单位":"上海旺策尔有限公司","发生日期":"2019-08-30","费用项目":"30000","申请费用金额":"30000","核算项目":"ZT","项目编号":"BH123456"}]}},computed:x()({},Object(l.c)({curContractNo:function(e){return e.curContractNo}})),created:function(){this.getOutlayList()},methods:{back:function(){this.$router.push({name:"InfoDynamicTable"})},getOutlayList:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<JA_LIST xmlns="http://tempuri.org/">',t+="<FSQL><![CDATA[select * from zz_fee where f11='"+this.curContractNo+"']]></FSQL>",t+="</JA_LIST>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("JA_LIST",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html(),o=JSON.parse(l);console.log(o),e.outlayList=o}).catch(function(e){console.log(e)})},exportExcel:function(){var e=this;s.e(0).then(function(){(0,s("zWO4").exportJsonToExcel)(["单据编号","申请日期","事由","申请人","申请部门","收款单位","发生日期","费用项目","申请费用金额","核算项目","项目编号","摘要","备注"],e.formatJson(["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13"],e.OutlayList),"费用")}.bind(null,s)).catch(s.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Outlay"},[s("H1",[e._v("费 用")]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{type:"primary",size:"small"},on:{click:e.exportExcel}},[e._v("导 出")]),e._v(" "),s("el-table",{ref:"OutlayTable",staticStyle:{width:"100%"},attrs:{data:e.outlayList}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{property:"F1",label:"单据编号",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F2",label:"申请日期",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F3",label:"事由","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F4",label:"申请人",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F5",label:"申请部门",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F6",label:"收款单位",width:"200","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F7",label:"发生日期",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F8",label:"费用项目",width:"150","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F9",label:"申请费用金额",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F10",label:"核算项目",width:"150","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F11",label:"项目编号",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F12",label:"摘要",width:"150","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F13",label:"备注",width:"150","show-overflow-tooltip":""}})],1)],1)},staticRenderFns:[]};var W=s("C7Lr")(Z,Q,!1,function(e){s("dEqW")},"data-v-e7bb93ba",null).exports,G={name:"Cost",data:function(){return{costList:[]}},computed:x()({},Object(l.c)({curContractNo:function(e){return e.curContractNo}})),created:function(){this.getCostList()},methods:{getCostList:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>';t+='<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"> ',t+="<soap:Body> ",t+='<JA_LIST xmlns="http://tempuri.org/">',t+="<FSQL><![CDATA[select * from zz_cost where f15='"+this.curContractNo+"']]></FSQL>",t+="</JA_LIST>",t+="</soap:Body>",t+="</soap:Envelope>",this.Http.post("JA_LIST",t).then(function(t){var s=t.data,a=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("JA_LISTResponse")[0].getElementsByTagName("JA_LISTResult")[0],l=C()(a).html(),o=JSON.parse(l);console.log(o),e.costList=o}).catch(function(e){console.log(e)})},exportExcel:function(){var e=this;s.e(0).then(function(){(0,s("zWO4").exportJsonToExcel)(["类别","含税金额","日期","单据编号","购货单位","产品长代码","产品名称","规格型号","单位","实发数量","销售单价","销售金额","单位成本","成本","项目编号","订单单号","源单单号","合同单号","部门","业务员","源单类型"],e.formatJson(["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23"],e.CostList),"成本")}.bind(null,s)).catch(s.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}}},V={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Cost"},[s("H1",[e._v("成 本")]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{type:"primary",size:"small"},on:{click:e.exportExcel}},[e._v("导 出")]),e._v(" "),s("el-table",{ref:"CostTable",staticStyle:{width:"100%"},attrs:{data:e.costList}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{property:"F1",label:"类别",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F2",label:"含税金额",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F3",label:"日期","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F4",label:"单据编号",width:"100","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F5",label:"购货单位",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F6",label:"产品长代码",width:"200","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F7",label:"产品名称",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F8",label:"规格型号","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F9",label:"单位",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F10",label:"实发数量","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F11",label:"销售单价",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F12",label:"销售金额",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F13",label:"单位成本",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F14",label:"成本",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F15",label:"项目编号",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F16",label:"订单单号",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F17",label:"源单单号",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F18",label:"合同单号",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F19",label:"部门",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F20",label:"业务员",width:"120","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{property:"F21",label:"源单类型",width:"120","show-overflow-tooltip":""}})],1)],1)},staticRenderFns:[]};var K=s("C7Lr")(G,V,!1,function(e){s("z+lr")},"data-v-2512466e",null).exports;a.default.use(m.a);var ee=new m.a({routes:[{path:"/Login",name:"Login",component:U,meta:{requireAuth:!1}},{path:"/InfoDynamicTable",name:"InfoDynamicTable",component:A,meta:{requireAuth:!0}},{path:"/FilterTable",name:"FilterTable",component:D,meta:{requireAuth:!0}},{path:"/Cost",name:"Cost",component:K,meta:{requireAuth:!0}},{path:"/Outlay",name:"Outlay",component:W,meta:{requireAuth:!0}},{path:"/Contract",name:"Contract",component:E,meta:{requireAuth:!0}},{path:"*",redirect:"/Login"}]});ee.beforeEach(function(e,t,s){n.dispatch("changePath",e.name),e.meta.requireAuth&&!function(e){for(var t=e+"=",s=document.cookie.split(";"),a=0;a<s.length;a++){for(var l=s[a];" "===l.charAt(0);)l=l.substring(1);if(-1!==l.indexOf(t))return l.substring(t.length,l.length)}return""}("ZT_14a808c40bba58c2c")?(localStorage.clear(),s({path:"/Login"})):s(),n.dispatch("changePath",e.name)});var te=ee,se=(s("zlkP"),s("84iU")),ae=s.n(se),le="http://zicpp.zicp.vip:27059/Service1.asmx",oe=ae.a.CancelToken.source();function re(e,t,s){var a=Date.now();return Y.local.get("token")&&(ae.a.defaults.headers.common.token=Y.getLocal("token")),new f.a(function(l,o){ae()({method:e,url:""+le,crossDomain:!0,headers:{"content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/"+t,"X-Timestamp":a},cancelToken:oe.token,data:s}).then(function(e){l(e)}).catch(function(e){o(e.message)})})}ae.a.interceptors.request.use(function(e){return e}),ae.a.interceptors.response.use(function(e){return e},function(e){if(e.response){var t=e.response.data;switch(n.dispatch("toggleLoadingBt",!1),e.response.status){case 403:w.Message.error({message:"拒绝访问!"});break;case 500:"Token失效，请重新登录"===t.message&&w.Message.error({message:"很抱歉，登录已过期，请重新登录!"});break;case 404:w.Message.error({message:"很抱歉，资源未找到!"});break;case 504:w.Message.error({message:"网络超时!"});break;case 401:w.Message.error({message:"未授权，请重新登录!"});break;default:w.Message.error({message:t.message+"!"})}}return f.a.reject(e)});var ie={post:function(e,t){return re("post",e,t)}};s("WEav");a.default.config.productionTip=!1,a.default.prototype.Http=ie,a.default.use(F.a),a.default.use(l.a),new a.default({el:"#app",store:n,router:te,components:{App:p},template:"<App/>"})},WEav:function(e,t){},XOqZ:function(e,t){},alRU:function(e,t){},dEqW:function(e,t){},qvAF:function(e,t){},"z+lr":function(e,t){},zlkP:function(e,t){}},[1]);
//# sourceMappingURL=app.165f1c3fc6b28e1e830a.js.map